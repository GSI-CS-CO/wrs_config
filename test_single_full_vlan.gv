/* Compiliation: dot -Tsvg test_single_full_vlan.gv -o test_single_full_vlan.svg */

graph ttn {

  rankdir=TB;

  /*node [shape=Mrecord, height=.1]; switch shape */
  grand_master_wrs [
  shape=plaintext
  label=<

  <table border='0' cellborder='1' color='blue' cellspacing='0'>
    <tr>
      <td port='eth0'> Grand<br/>Master<br/>(eth0)</td>
      <td>
        <table color='orange' cellspacing='0'>
          <tr><td>port   </td></tr>
          <tr><td>mode   </td></tr>
          <tr><td>PTP_VID</td></tr>
          <tr><td>pVID   </td></tr>
          <tr><td>rVID   </td></tr>
        </table>
      </td>
      <td>
        <table color='blue' bgcolor='yellow' cellspacing='0'>
          <tr>
            <td port='wri1t' bgcolor='yellow'>wri1</td><td port='wri2t' bgcolor='yellow'>wri2</td><td port='wri3t' bgcolor='yellow'>wri3</td><td port='wri4t' bgcolor='yellow'>wri4</td><td port='wri5t' bgcolor='yellow'>wri5</td><td port='wri6t' bgcolor='yellow'>wri6</td><td port='wri7t' bgcolor='yellow'>wri7</td><td port='wri8t' bgcolor='yellow'>wri8</td><td port='wri9t' bgcolor='yellow'>wri9</td><td port='wri10t' bgcolor='yellow'>wri10</td><td port='wri11t' bgcolor='yellow'>wri11</td><td port='wri12t' bgcolor='yellow'>wri12</td><td port='wri13t' bgcolor='yellow'>wri13</td><td port='wri14t' bgcolor='yellow'>wri14</td><td port='wri15t' bgcolor='yellow'>wri15</td><td port='wri16t' bgcolor='yellow'>wri16</td><td port='wri17t' bgcolor='yellow'>wri17</td><td port='wri18t' bgcolor='yellow'>wri18</td></tr>
          <tr>
            <td bgcolor='yellow'>TR</td><td bgcolor='yellow'>TR</td><td bgcolor='yellow'>TR</td><td bgcolor='yellow'>TR</td><td bgcolor='yellow'>TR</td><td bgcolor='yellow'>TR</td><td bgcolor='yellow'>TR</td><td bgcolor='yellow'>TR</td><td bgcolor='yellow'>TR</td><td bgcolor='yellow'>TR</td><td bgcolor='yellow'>TR</td><td bgcolor='yellow'>TR</td><td bgcolor='yellow'>TR</td><td bgcolor='yellow'>TR</td><td bgcolor='yellow'>TR</td><td bgcolor='yellow'>TR</td><td bgcolor='yellow'>TR</td><td bgcolor='yellow'>AC</td></tr>
          <tr>
            <td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>-</td></tr>
          <tr>
            <td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>0</td></tr>
          <tr>
            <td port='wri1b' bgcolor='yellow'>-</td><td port='wri2b' bgcolor='yellow'>-</td><td port='wri3b' bgcolor='yellow'>-</td><td port='wri4b' bgcolor='yellow'>-</td><td port='wri5b' bgcolor='yellow'>-</td><td port='wri6b' bgcolor='yellow'>-</td><td port='wri7b' bgcolor='yellow'>-</td><td port='wri8b' bgcolor='yellow'>-</td><td port='wri9b' bgcolor='yellow'>-</td><td port='wri10b' bgcolor='yellow'>-</td><td port='wri11b' bgcolor='yellow'>-</td><td port='wri12b' bgcolor='yellow'>-</td><td port='wri13b' bgcolor='yellow'>-</td><td port='wri14b' bgcolor='yellow'>-</td><td port='wri15b' bgcolor='yellow'>-</td><td port='wri16b' bgcolor='yellow'>-</td><td port='wri17b' bgcolor='yellow'>-</td><td port='wri18b' bgcolor='yellow'>[(30, 31), (100, 109)]</td></tr>
        </table>
      </td>
    </tr>
  </table>
  >];
  management_wrs [
  shape=plaintext
  label=<

  <table border='0' cellborder='1' color='blue' cellspacing='0'>
    <tr>
      <td port='eth0'> Service<br/>(eth0)</td>
      <td>
        <table color='orange' cellspacing='0'>
          <tr><td>port   </td></tr>
          <tr><td>mode   </td></tr>
          <tr><td>PTP_VID</td></tr>
          <tr><td>pVID   </td></tr>
          <tr><td>rVID   </td></tr>
        </table>
      </td>
      <td>
        <table color='blue' bgcolor='yellow' cellspacing='0'>
          <tr>
            <td port='wri1t' bgcolor='green'>wri1</td><td port='wri2t' bgcolor='green'>wri2</td><td port='wri3t' bgcolor='green'>wri3</td><td port='wri4t' bgcolor='green'>wri4</td><td port='wri5t' bgcolor='green'>wri5</td><td port='wri6t' bgcolor='green'>wri6</td><td port='wri7t' bgcolor='green'>wri7</td><td port='wri8t' bgcolor='green'>wri8</td><td port='wri9t' bgcolor='green'>wri9</td><td port='wri10t' bgcolor='green'>wri10</td><td port='wri11t' bgcolor='green'>wri11</td><td port='wri12t' bgcolor='green'>wri12</td><td port='wri13t' bgcolor='yellow'>wri13</td><td port='wri14t' bgcolor='yellow'>wri14</td><td port='wri15t' bgcolor='yellow'>wri15</td><td port='wri16t' bgcolor='yellow'>wri16</td><td port='wri17t' bgcolor='yellow'>wri17</td><td port='wri18t' bgcolor='yellow'>wri18</td></tr>
          <tr>
            <td bgcolor='green'>TR</td><td bgcolor='green'>TR</td><td bgcolor='green'>TR</td><td bgcolor='green'>TR</td><td bgcolor='green'>TR</td><td bgcolor='green'>TR</td><td bgcolor='green'>TR</td><td bgcolor='green'>TR</td><td bgcolor='green'>TR</td><td bgcolor='green'>TR</td><td bgcolor='green'>TR</td><td bgcolor='green'>TR</td><td bgcolor='yellow'>AC</td><td bgcolor='yellow'>AC</td><td bgcolor='yellow'>AC</td><td bgcolor='yellow'>AC</td><td bgcolor='yellow'>AC</td><td bgcolor='yellow'>AC</td></tr>
          <tr>
            <td bgcolor='green'>31</td><td bgcolor='green'>31</td><td bgcolor='green'>31</td><td bgcolor='green'>31</td><td bgcolor='green'>-</td><td bgcolor='green'>31</td><td bgcolor='green'>31</td><td bgcolor='green'>31</td><td bgcolor='green'>31</td><td bgcolor='green'>31</td><td bgcolor='green'>31</td><td bgcolor='green'>31</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td></tr>
          <tr>
            <td bgcolor='green'>-</td><td bgcolor='green'>-</td><td bgcolor='green'>-</td><td bgcolor='green'>-</td><td bgcolor='green'>31</td><td bgcolor='green'>-</td><td bgcolor='green'>-</td><td bgcolor='green'>-</td><td bgcolor='green'>-</td><td bgcolor='green'>-</td><td bgcolor='green'>-</td><td bgcolor='green'>-</td><td bgcolor='yellow'>30</td><td bgcolor='yellow'>30</td><td bgcolor='yellow'>30</td><td bgcolor='yellow'>30</td><td bgcolor='yellow'>30</td><td bgcolor='yellow'>30</td></tr>
          <tr>
            <td port='wri1b' bgcolor='green'>[30]</td><td port='wri2b' bgcolor='green'>[30]</td><td port='wri3b' bgcolor='green'>[30]</td><td port='wri4b' bgcolor='green'>[30]</td><td port='wri5b' bgcolor='green'>[30]</td><td port='wri6b' bgcolor='green'>[30]</td><td port='wri7b' bgcolor='green'>[30]</td><td port='wri8b' bgcolor='green'>[30]</td><td port='wri9b' bgcolor='green'>[30]</td><td port='wri10b' bgcolor='green'>[30]</td><td port='wri11b' bgcolor='green'>[30]</td><td port='wri12b' bgcolor='green'>[30]</td><td port='wri13b' bgcolor='yellow'>[31, (100, 109)]</td><td port='wri14b' bgcolor='yellow'>[31, (100, 109)]</td><td port='wri15b' bgcolor='yellow'>[31, (100, 109)]</td><td port='wri16b' bgcolor='yellow'>[31, (100, 109)]</td><td port='wri17b' bgcolor='yellow'>[31, (100, 109)]</td><td port='wri18b' bgcolor='yellow'>[(30, 31), (100, 109)]</td></tr>
        </table>
      </td>
    </tr>
  </table>
  >];
  local_master_wrs [
  shape=plaintext
  label=<

  <table border='0' cellborder='1' color='blue' cellspacing='0'>
    <tr>
      <td port='eth0'> Local<br/>Master<br/>(eth0)</td>
      <td>
        <table color='orange' cellspacing='0'>
          <tr><td>port   </td></tr>
          <tr><td>mode   </td></tr>
          <tr><td>PTP_VID</td></tr>
          <tr><td>pVID   </td></tr>
          <tr><td>rVID   </td></tr>
        </table>
      </td>
      <td>
        <table color='blue' bgcolor='yellow' cellspacing='0'>
          <tr>
            <td port='wri1t' bgcolor='green'>wri1</td><td port='wri2t' bgcolor='yellow'>wri2</td><td port='wri3t' bgcolor='yellow'>wri3</td><td port='wri4t' bgcolor='yellow'>wri4</td><td port='wri5t' bgcolor='yellow'>wri5</td><td port='wri6t' bgcolor='yellow'>wri6</td><td port='wri7t' bgcolor='yellow'>wri7</td><td port='wri8t' bgcolor='yellow'>wri8</td><td port='wri9t' bgcolor='yellow'>wri9</td><td port='wri10t' bgcolor='yellow'>wri10</td><td port='wri11t' bgcolor='yellow'>wri11</td><td port='wri12t' bgcolor='yellow'>wri12</td><td port='wri13t' bgcolor='yellow'>wri13</td><td port='wri14t' bgcolor='yellow'>wri14</td><td port='wri15t' bgcolor='yellow'>wri15</td><td port='wri16t' bgcolor='yellow'>wri16</td><td port='wri17t' bgcolor='yellow'>wri17</td><td port='wri18t' bgcolor='yellow'>wri18</td></tr>
          <tr>
            <td bgcolor='green'>TR</td><td bgcolor='yellow'>TR</td><td bgcolor='yellow'>UN</td><td bgcolor='yellow'>UN</td><td bgcolor='yellow'>AC</td><td bgcolor='yellow'>AC</td><td bgcolor='yellow'>TR</td><td bgcolor='yellow'>UN</td><td bgcolor='yellow'>UN</td><td bgcolor='yellow'>UN</td><td bgcolor='yellow'>UN</td><td bgcolor='yellow'>UN</td><td bgcolor='yellow'>UN</td><td bgcolor='yellow'>UN</td><td bgcolor='yellow'>UN</td><td bgcolor='yellow'>UN</td><td bgcolor='yellow'>UN</td><td bgcolor='yellow'>AC</td></tr>
          <tr>
            <td bgcolor='green'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td></tr>
          <tr>
            <td bgcolor='green'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>100</td><td bgcolor='yellow'>100</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>0</td></tr>
          <tr>
            <td port='wri1b' bgcolor='green'>-</td><td port='wri2b' bgcolor='yellow'>[30, 100]</td><td port='wri3b' bgcolor='yellow'>-</td><td port='wri4b' bgcolor='yellow'>-</td><td port='wri5b' bgcolor='yellow'>[30, 100]</td><td port='wri6b' bgcolor='yellow'>[30, 100]</td><td port='wri7b' bgcolor='yellow'>[31, 100]</td><td port='wri8b' bgcolor='yellow'>-</td><td port='wri9b' bgcolor='yellow'>-</td><td port='wri10b' bgcolor='yellow'>-</td><td port='wri11b' bgcolor='yellow'>-</td><td port='wri12b' bgcolor='yellow'>-</td><td port='wri13b' bgcolor='yellow'>-</td><td port='wri14b' bgcolor='yellow'>-</td><td port='wri15b' bgcolor='yellow'>-</td><td port='wri16b' bgcolor='yellow'>-</td><td port='wri17b' bgcolor='yellow'>-</td><td port='wri18b' bgcolor='yellow'>[(30, 31), (100, 109)]</td></tr>
        </table>
      </td>
    </tr>
  </table>
  >];
  distribution_wrs [
  shape=plaintext
  label=<

  <table border='0' cellborder='1' color='blue' cellspacing='0'>
    <tr>
      <td port='eth0'> Distri<br/>bution<br/>(eth0)</td>
      <td>
        <table color='orange' cellspacing='0'>
          <tr><td>port   </td></tr>
          <tr><td>mode   </td></tr>
          <tr><td>PTP_VID</td></tr>
          <tr><td>pVID   </td></tr>
          <tr><td>rVID   </td></tr>
        </table>
      </td>
      <td>
        <table color='blue' bgcolor='yellow' cellspacing='0'>
          <tr>
            <td port='wri1t' bgcolor='green'>wri1</td><td port='wri2t' bgcolor='yellow'>wri2</td><td port='wri3t' bgcolor='yellow'>wri3</td><td port='wri4t' bgcolor='yellow'>wri4</td><td port='wri5t' bgcolor='yellow'>wri5</td><td port='wri6t' bgcolor='yellow'>wri6</td><td port='wri7t' bgcolor='yellow'>wri7</td><td port='wri8t' bgcolor='yellow'>wri8</td><td port='wri9t' bgcolor='yellow'>wri9</td><td port='wri10t' bgcolor='yellow'>wri10</td><td port='wri11t' bgcolor='yellow'>wri11</td><td port='wri12t' bgcolor='yellow'>wri12</td><td port='wri13t' bgcolor='yellow'>wri13</td><td port='wri14t' bgcolor='yellow'>wri14</td><td port='wri15t' bgcolor='yellow'>wri15</td><td port='wri16t' bgcolor='yellow'>wri16</td><td port='wri17t' bgcolor='yellow'>wri17</td><td port='wri18t' bgcolor='yellow'>wri18</td></tr>
          <tr>
            <td bgcolor='green'>TR</td><td bgcolor='yellow'>TR</td><td bgcolor='yellow'>TR</td><td bgcolor='yellow'>TR</td><td bgcolor='yellow'>TR</td><td bgcolor='yellow'>TR</td><td bgcolor='yellow'>TR</td><td bgcolor='yellow'>TR</td><td bgcolor='yellow'>TR</td><td bgcolor='yellow'>TR</td><td bgcolor='yellow'>TR</td><td bgcolor='yellow'>TR</td><td bgcolor='yellow'>TR</td><td bgcolor='yellow'>TR</td><td bgcolor='yellow'>TR</td><td bgcolor='yellow'>TR</td><td bgcolor='yellow'>TR</td><td bgcolor='yellow'>TR</td></tr>
          <tr>
            <td bgcolor='green'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td></tr>
          <tr>
            <td bgcolor='green'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td></tr>
          <tr>
            <td port='wri1b' bgcolor='green'>[31, 100]</td><td port='wri2b' bgcolor='yellow'>[30, 100]</td><td port='wri3b' bgcolor='yellow'>[30, 100]</td><td port='wri4b' bgcolor='yellow'>[30, 100]</td><td port='wri5b' bgcolor='yellow'>[30, 100]</td><td port='wri6b' bgcolor='yellow'>[30, 100]</td><td port='wri7b' bgcolor='yellow'>[30, 100]</td><td port='wri8b' bgcolor='yellow'>[30, 100]</td><td port='wri9b' bgcolor='yellow'>[30, 100]</td><td port='wri10b' bgcolor='yellow'>[30, 100]</td><td port='wri11b' bgcolor='yellow'>[30, 100]</td><td port='wri12b' bgcolor='yellow'>[30, 100]</td><td port='wri13b' bgcolor='yellow'>[30, 100]</td><td port='wri14b' bgcolor='yellow'>[30, 100]</td><td port='wri15b' bgcolor='yellow'>[30, 100]</td><td port='wri16b' bgcolor='yellow'>[30, 100]</td><td port='wri17b' bgcolor='yellow'>[30, 100]</td><td port='wri18b' bgcolor='yellow'>[30, 100]</td></tr>
        </table>
      </td>
    </tr>
  </table>
  >];
  access_wrs [
  shape=plaintext
  label=<

  <table border='0' cellborder='1' color='blue' cellspacing='0'>
    <tr>
      <td port='eth0'> Access<br/>(eth0)</td>
      <td>
        <table color='orange' cellspacing='0'>
          <tr><td>port   </td></tr>
          <tr><td>mode   </td></tr>
          <tr><td>PTP_VID</td></tr>
          <tr><td>pVID   </td></tr>
          <tr><td>rVID   </td></tr>
        </table>
      </td>
      <td>
        <table color='blue' bgcolor='yellow' cellspacing='0'>
          <tr>
            <td port='wri1t' bgcolor='green'>wri1</td><td port='wri2t' bgcolor='yellow'>wri2</td><td port='wri3t' bgcolor='yellow'>wri3</td><td port='wri4t' bgcolor='yellow'>wri4</td><td port='wri5t' bgcolor='yellow'>wri5</td><td port='wri6t' bgcolor='yellow'>wri6</td><td port='wri7t' bgcolor='yellow'>wri7</td><td port='wri8t' bgcolor='yellow'>wri8</td><td port='wri9t' bgcolor='yellow'>wri9</td><td port='wri10t' bgcolor='yellow'>wri10</td><td port='wri11t' bgcolor='yellow'>wri11</td><td port='wri12t' bgcolor='yellow'>wri12</td><td port='wri13t' bgcolor='yellow'>wri13</td><td port='wri14t' bgcolor='yellow'>wri14</td><td port='wri15t' bgcolor='yellow'>wri15</td><td port='wri16t' bgcolor='yellow'>wri16</td><td port='wri17t' bgcolor='yellow'>wri17</td><td port='wri18t' bgcolor='yellow'>wri18</td></tr>
          <tr>
            <td bgcolor='green'>TR</td><td bgcolor='yellow'>AC</td><td bgcolor='yellow'>AC</td><td bgcolor='yellow'>AC</td><td bgcolor='yellow'>AC</td><td bgcolor='yellow'>AC</td><td bgcolor='yellow'>AC</td><td bgcolor='yellow'>AC</td><td bgcolor='yellow'>AC</td><td bgcolor='yellow'>AC</td><td bgcolor='yellow'>AC</td><td bgcolor='yellow'>AC</td><td bgcolor='yellow'>AC</td><td bgcolor='yellow'>AC</td><td bgcolor='yellow'>AC</td><td bgcolor='yellow'>AC</td><td bgcolor='yellow'>AC</td><td bgcolor='yellow'>AC</td></tr>
          <tr>
            <td bgcolor='green'>31</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td><td bgcolor='yellow'>-</td></tr>
          <tr>
            <td bgcolor='green'>-</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>100</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>31</td><td bgcolor='yellow'>30</td></tr>
          <tr>
            <td port='wri1b' bgcolor='green'>[31, 100]</td><td port='wri2b' bgcolor='yellow'>[30, 100]</td><td port='wri3b' bgcolor='yellow'>[30, 100]</td><td port='wri4b' bgcolor='yellow'>[30, 100]</td><td port='wri5b' bgcolor='yellow'>[30, 100]</td><td port='wri6b' bgcolor='yellow'>[30, 100]</td><td port='wri7b' bgcolor='yellow'>[30, 100]</td><td port='wri8b' bgcolor='yellow'>[30, 100]</td><td port='wri9b' bgcolor='yellow'>[30, 100]</td><td port='wri10b' bgcolor='yellow'>[30, 100]</td><td port='wri11b' bgcolor='yellow'>[30, 100]</td><td port='wri12b' bgcolor='yellow'>[30, 100]</td><td port='wri13b' bgcolor='yellow'>[30, 100]</td><td port='wri14b' bgcolor='yellow'>[30, 100]</td><td port='wri15b' bgcolor='yellow'>[30, 100]</td><td port='wri16b' bgcolor='yellow'>[30, 100]</td><td port='wri17b' bgcolor='yellow'>[30, 100]</td><td port='wri18b' bgcolor='yellow'>[(30, 31), (100, 109)]</td></tr>
        </table>
      </td>
    </tr>
  </table>
  >];

  /* nodes */
  subgraph {

    rank=min;

    node [shape=box, style=filled, fillcolor=gray];   /* service nodes */
    Service;                                          /* other service node */
    Reset;                                            /* for SCU Reset */
    DHCP2; DHCP;                                      /* DHCP servers */

  }

  /* node connections */
  Service -- management_wrs:wri14t [label="tag 30\n untag all"]; /* other service node to management:port14 */
  Reset -- management_wrs:wri15t;                                /* SCU resetter to management:port15 */
  DHCP2 -- management_wrs:wri16t;                                /* DHCP2 server to management:port16 */
  DHCP -- management_wrs:wri17t;                                 /* DHCP server to management:port17 */

  node [shape=oval, style=filled, fillcolor=yellow];  /* WR nodes */
  DM; DM2;       /* WR nodes: data masters */

  DM -- local_master_wrs:wri5t [label="tag 100\n untag all"]; /* DM to local_master:port5 */
  DM2 -- local_master_wrs:wri6t;                              /* DM2 to local_master:port6 */
  "gateway\n(fake)" -- access_wrs:wri12t [label="tag 100\n untag all"];  /* gateway to access:port12 */

  node [shape=oval, style=filled, fillcolor=lightblue];      /* WR nodes */
  TR -- access_wrs:wri6t [label="tag 31\n untag all"];         /* TR node to access:port6 */

  node [shape=box, style=filled, fillcolor=gray];   /* service nodes */
  tap  -- management_wrs:wri18t [label=""];       /* tap to management:port18 */
  tap1 -- local_master_wrs:wri18t [label=""];     /* tap to local_master:port18 */
  tap2 -- access_wrs:wri18t [label=""];           /* tap to access:port18 */

  /* switch connections */
  grand_master_wrs:wri1b -- local_master_wrs:wri1t [label="31"];  /* grand_master:port1 to local_master:wri1 */
  management_wrs:wri1b   -- local_master_wrs:wri7t [label="30,31,100"];   /* management:port1 to local_master:wri2 */
  local_master_wrs:wri2b -- distribution_wrs:wri1t [label="30,31,100"];   /* local_master:port3 to distribution:wri1 */
  distribution_wrs:wri2b -- access_wrs:wri1t [label="30,31,100"];   /* distribution:wri2 to access_wrs:wri1*/
  
  grand_master_wrs:eth0 -- wrs_mngmt  [label=""];   /* WRS management node to grand_master:port0 */
  management_wrs:eth0 -- wrs_mngmt [label=""];     /* WRS management node to management:port0 */
  local_master_wrs:eth0 -- wrs_mngmt [label=""];   /* WRS management node to local_master:port0 */
  distribution_wrs:eth0 -- wrs_mngmt [label=""];   /* WRS management node to distribution:port0 */
  access_wrs:eth0 -- wrs_mngmt [label=""];         /* WRS management node to access:port0 */

  /* legend */
  subgraph cluster_0 {
    label = "Legend";
    wrs [
      shape=plaintext
      label=<

      <table border='0' cellborder='1' color='blue' cellspacing='0'>
        <tr>
          <td>
            <table bgcolor='white' cellspacing='0'>
               <tr><td>WRS</td></tr>
            </table></td>
          <td>
            <table bgcolor='yellow' cellspacing='0'>
               <tr><td>master<br/>ports</td></tr>
            </table></td>
          <td>
             <table bgcolor='green' cellspacing='0'>
               <tr><td>slave<br/>ports</td></tr>
             </table></td>
        </tr>
      </table>
    >];
    "WR node" [shape=oval, style=filled, fillcolor="yellow:lightblue"];
    "service node" [shape=box, style=filled, fillcolor=gray];
  }
}
